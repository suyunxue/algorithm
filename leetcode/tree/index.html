<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Document</title>
</head>
<body>
	<script>
		function TreeNode(val) {
            this.val = val;
            this.left = this.right = null;
        }

        function BinaryTree() {
            TreeNode.call(this);
            this.root = null;
            this.insert = insert;
            this.insertNode = insertNode
        }

        function insertNode(node, newNode) {
            if (node.val < newNode.val) {
                if (node.left === null) {
                    node.left = newNode;
                }
                else {
                    insertNode(node.left, newNode);
                }
            }
            else {
                if (node.right === null) {
                    node.right = newNode;
                }
                else {
                    insertNode(node.right, newNode);
                }
            }

        }

        function insert(val) {
           let newNode = new TreeNode(val);
            if (root === null) {
               root = newNode;
            } 
            else {
                this.insertNode(root, newNode);
            }
        }

        var sortedArrayToBST = function(nums) {
            return ToBST(nums, 0, nums.length - 1);
        };

        function ToBST(nums, left, right) {
            if (left > right) {
                return null;
            }

            var mid = parseInt((left + right) / 2);
            var root = new TreeNode(nums[mid]);
            root.left = ToBST(nums, left, mid - 1);
            root.right = ToBST(nums, mid + 1, right);
            return root;
        }

        /**
         * Definition for a binary tree node.
         * function TreeNode(val) {
         *     this.val = val;
         *     this.left = this.right = null;
         * }
         */
        /**
         * @param {TreeNode} root
         * @return {number[][]}
         */
        var zigzagLevelOrder = function(root) {
            if (root === null) {
                return [];
            }

            var result = [];
            var nodeQueue = [];
            nodeQueue.push(root);
            nodeQueue.push(null);
            var levelList = [];
            var isOrderLeft = true;

            while (nodeQueue.length > 0) {
                var curNode = nodeQueue.shift();
                if (curNode) {
                    if (isOrderLeft) {
                        levelList.push(curNode.val);
                    }
                    else {
                        levelList.unshift(curNode.val);
                    }
                    if (curNode.left) {
                        nodeQueue.push(curNode.left);
                    }
                    if (curNode.right) {
                        nodeQueue.push(curNode.right);
                    }
                }
                else {
                    result = result.concat(levelList);
                    levelList = [];
                    if (nodeQueue.length > 0) {
                        nodeQueue.push(null);
                    }
                    isOrderLeft = !isOrderLeft;
                }
            } 

            return result;
        };
	</script>
</body>
</html>